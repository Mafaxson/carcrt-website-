import{a as f,b as j,r as t,j as e,L as m,s as v}from"./index-fKdNt_eu.js";import{B as r}from"./button-BORuhTV0.js";import{B as N}from"./badge-BT86uf-y.js";import{L as d,M as b}from"./Layout-DceUr1cr.js";import{I as w}from"./ImageLightbox-Dx9OFO4d.js";import{g as i}from"./imageUtils-CAQ2ISvX.js";import{A as x}from"./arrow-left-8VFdk4Ak.js";import{C as y}from"./calendar-Dwfv-irP.js";import{D as E}from"./download-DiJGVDpn.js";import{E as L}from"./external-link-CAhPyaua.js";const z=()=>{const{id:o}=f(),n=j(),[s,h]=t.useState(null),[g,p]=t.useState(!0),[l,c]=t.useState(null);return t.useEffect(()=>{(async()=>{try{const{data:a,error:u}=await v.from("events").select("*").eq("id",o).single();u||!a?n("/events"):h(a)}catch(a){console.error("Error loading event from Supabase:",a),n("/events")}finally{p(!1)}})()},[o,n]),g?e.jsx(d,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading event..."})]})})}):s?e.jsxs(d,{children:[l&&e.jsx(w,{src:l.src,alt:l.alt,onClose:()=>c(null)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx(m,{to:"/events",children:e.jsxs(r,{variant:"ghost",className:"mb-6",children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Back to Events"]})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(N,{className:"mb-4",children:s.status==="upcoming"?"Upcoming":s.status==="ongoing"?"Ongoing":"Past Event"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),e.jsx("span",{className:"text-lg",children:s.event_date&&new Date(s.event_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{className:"text-lg",children:s.location})]})]}),s.image_url&&e.jsx("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg cursor-pointer",onClick:()=>c({src:i(s.image_url),alt:s.title}),children:e.jsx("img",{src:i(s.image_url),alt:s.title,className:"w-full h-auto object-cover max-h-[500px] hover:opacity-90 transition-opacity"})}),e.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:e.jsx("div",{className:"whitespace-pre-wrap text-foreground leading-relaxed text-lg",children:s.description})}),s.status==="upcoming"&&e.jsx("div",{className:"bg-primary/10 rounded-lg p-6 mb-8",children:s.applicationPdf?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold text-xl mb-4 text-center",children:"Application Process"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-card rounded-lg p-4 border",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Download the application form to register for this event."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:e.jsx("a",{href:i(s.applicationPdf),target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:e.jsxs(r,{size:"lg",variant:"default",className:"gap-2 w-full sm:w-auto",children:[e.jsx(E,{className:"h-5 w-5"}),"Download Application Form"]})})})]})})]}):s.registrationLink?e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Ready to Join Us?"}),e.jsx("a",{href:s.registrationLink,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(r,{size:"lg",className:"gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Register Now"]})})]}):null}),e.jsx("div",{className:"mt-12 pt-8 border-t",children:e.jsx(m,{to:"/events",children:e.jsxs(r,{variant:"outline",children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Back to Events"]})})})]})]})})]}):null};export{z as default};
