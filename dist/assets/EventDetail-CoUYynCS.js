import{a as j,b as v,r as a,j as e,L as d}from"./index-DG1zlAJv.js";import{B as r}from"./button-1bANESUZ.js";import{B as N}from"./badge-C8A-M5UW.js";import{L as x,M as b}from"./Layout-DSVRw__P.js";import{I as w}from"./ImageLightbox-CwLS4HeW.js";import{g as l}from"./imageUtils-LyuBHsxe.js";import{A as p}from"./arrow-left-lzwUftPm.js";import{C as y}from"./calendar-D7K1DROH.js";import{D as k}from"./download-CMM2cGkL.js";import{E}from"./external-link-BHVCjf4z.js";import"./tslib.es6-Ds0fHAFP.js";import"./supabase-DIfPkhuc.js";const J=()=>{const{id:o}=j(),n=v(),[s,g]=a.useState(null),[h,f]=a.useState(!0),[i,c]=a.useState(null);return a.useEffect(()=>{(async()=>{try{const t=(await(await fetch("/data/events.json")).json()).find(u=>u.id===o);t?g({...t,date:t.dateFrom||t.date||"",time:t.time||"",status:t.status||"upcoming",application_pdf:t.applicationPdf||t.application_pdf||"",registration_link:t.registrationLink||t.registration_link||""}):n("/events")}catch(m){console.error("Error loading event from events.json:",m),n("/events")}finally{f(!1)}})()},[o,n]),h?e.jsx(x,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading event..."})]})})}):s?e.jsxs(x,{children:[i&&e.jsx(w,{src:i.src,alt:i.alt,onClose:()=>c(null)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx(d,{to:"/events",children:e.jsxs(r,{variant:"ghost",className:"mb-6",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Events"]})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(N,{className:"mb-4",children:s.status==="upcoming"?"Upcoming":s.status==="ongoing"?"Ongoing":"Past Event"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),e.jsxs("span",{className:"text-lg",children:[s.date&&new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s.time&&` at ${s.time}`]})]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{className:"text-lg",children:s.location})]})]}),s.image&&e.jsx("div",{className:"mb-8 rounded-lg overflow-hidden shadow-lg cursor-pointer",onClick:()=>c({src:l(s.image),alt:s.title}),children:e.jsx("img",{src:l(s.image),alt:s.title,className:"w-full h-auto object-cover max-h-[500px] hover:opacity-90 transition-opacity"})}),e.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:e.jsx("div",{className:"whitespace-pre-wrap text-foreground leading-relaxed text-lg",children:s.description})}),s.status==="upcoming"&&e.jsx("div",{className:"bg-primary/10 rounded-lg p-6 mb-8",children:s.application_pdf?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold text-xl mb-4 text-center",children:"Application Process"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-card rounded-lg p-4 border",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Download the application form to register for this event."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:e.jsx("a",{href:l(s.application_pdf),target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:e.jsxs(r,{size:"lg",variant:"default",className:"gap-2 w-full sm:w-auto",children:[e.jsx(k,{className:"h-5 w-5"}),"Download Application Form"]})})})]})})]}):s.registration_link?e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Ready to Join Us?"}),e.jsx("a",{href:s.registration_link,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(r,{size:"lg",className:"gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Register Now"]})})]}):null}),e.jsx("div",{className:"mt-12 pt-8 border-t",children:e.jsx(d,{to:"/events",children:e.jsxs(r,{variant:"outline",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Events"]})})})]})]})})]}):null};export{J as default};
