import{r as a,b as x,w as j,j as e}from"./index-ClwXFua9.js";import{B as v}from"./button-DQy99yEb.js";import{I as m}from"./input-l-GaAhev.js";import{L as u}from"./label-Cfj8Bc7e.js";import{C as w,b as y,c as L,d as C,a as b}from"./card-BC07WVNW.js";import{s as p}from"./supabaseClient-dNyVVOCL.js";import"./tslib.es6-Ds0fHAFP.js";import"./supabase-DIfPkhuc.js";const B=()=>{const[i,h]=a.useState(""),[n,g]=a.useState(""),[o,l]=a.useState(!1),t=x(),{toast:r}=j();a.useEffect(()=>{p.auth.getSession().then(({data:{session:s}})=>{s&&t("/admin")})},[t]);const f=async s=>{s.preventDefault(),l(!0);try{const{data:d,error:c}=await p.auth.signInWithPassword({email:i,password:n});c?r({title:"Login Failed",description:c.message,variant:"destructive"}):d.session&&(r({title:"Login Successful",description:"Welcome to the admin panel"}),t("/admin"))}catch{r({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsxs(y,{children:[e.jsx(L,{children:"Admin Login"}),e.jsx(C,{children:"Enter your credentials to access the admin panel"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",value:i,onChange:s=>h(s.target.value),placeholder:"ismealkamara20@gmail.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(m,{id:"password",type:"password",value:n,onChange:s=>g(s.target.value),placeholder:"Enter your password",required:!0})]}),e.jsx(v,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})]})})]})})};export{B as default};
