import{r as a,j as e}from"./index-6WrLVv-j.js";import{L as n,H as f}from"./Layout-2kGYVXdT.js";import{C as p,a as j}from"./card-DF8CLmKM.js";import{I as N}from"./ImageLightbox-Bb0tXPR1.js";import{s as b}from"./supabaseClient-C4KQgAWZ.js";import{T as y}from"./target-BFDGu2c8.js";import{S as v}from"./shield-BLTR-aYQ.js";import{U as S}from"./users-DWHRLWVA.js";import{S as C,G as w}from"./sprout-CsOl1oah.js";import{D as E,S as I}from"./scale-Od3ufwi0.js";import{L}from"./leaf-DSeilL68.js";import"./tslib.es6-DWrgNmWE.js";import"./wrapper-DnX2Pr9K.js";const P={"Child Sponsorship Program":y,"Drug Abuse Prevention & Community Resilience":v,"Women & Youth Empowerment":S,"Food Security & Nutrition":C,"Education & Child Protection":w,"Integrated Health & WASH":E,"Environment & Climate Change":L,"GEDSI (Gender Equality, Disability & Social Inclusion)":f,"Governance, Human Rights & Accountability":I};function q(){const[i,o]=a.useState(null),[c,d]=a.useState([]),[m,x]=a.useState(!0),[l,u]=a.useState(null);return a.useEffect(()=>{(async()=>{const{data:r,error:t}=await b.from("programs").select("*").order("title");console.log("Supabase data:",r),console.log("Supabase error:",t),t&&u(t.message||"Error fetching data"),d(r||[]),x(!1)})()},[]),m?e.jsx(n,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading programs..."})]})})}):l?e.jsx(n,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-destructive",children:l})})})}):e.jsxs(n,{children:[i&&e.jsx(N,{src:i.src,alt:i.alt,onClose:()=>o(null)}),e.jsx("section",{className:"relative py-20 bg-gradient-hero",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center animate-fade-up",children:[e.jsxs("h1",{className:"font-heading text-4xl md:text-5xl font-bold text-foreground mb-6",children:["Our ",e.jsx("span",{className:"gradient-text",children:"Programs & Initiatives"})]}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Comprehensive programs addressing diverse community needs across Sierra Leone"})]})})}),e.jsx("section",{className:"section-padding bg-background",children:e.jsx("div",{className:"container-custom",children:e.jsx("div",{className:"space-y-12",children:c.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No programs found."})}):c.map((s,r)=>{const t=P[s.title];return e.jsx(p,{className:"overflow-hidden border-none shadow-card animate-fade-up",style:{animationDelay:`${r*100}ms`},children:e.jsx(j,{className:"p-0",children:e.jsxs("div",{className:"grid md:grid-cols-[2fr,3fr]",children:[e.jsxs("div",{className:"p-8 bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col justify-center items-center",children:[s.image?e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-56 rounded-lg mb-6 object-cover shadow-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>o({src:s.image,alt:s.title})}):e.jsx("div",{className:`${s.color||"bg-secondary"} p-8 rounded-full mb-6`,children:t&&e.jsx(t,{className:"h-16 w-16 text-primary-foreground"})}),e.jsx("h3",{className:"font-heading text-lg font-bold text-center text-foreground px-4",children:s.title})]}),e.jsxs("div",{className:"md:col-span-1 p-8",children:[e.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:s.description}),e.jsx("h4",{className:"font-heading font-semibold text-foreground mb-4",children:"Key Activities:"}),e.jsx("ul",{className:"grid sm:grid-cols-2 gap-3",children:Array.isArray(s.key_activities)?s.key_activities.map((h,g)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.color||"bg-secondary"} mt-1.5 flex-shrink-0`}),e.jsx("span",{children:h})]},g)):null})]})]})})},s.id||r)})})})}),e.jsx("section",{className:"section-padding bg-primary text-primary-foreground",children:e.jsxs("div",{className:"container-custom text-center",children:[e.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold mb-4",children:"See Our Impact in Action"}),e.jsx("p",{className:"text-lg text-primary-foreground/80 mb-8 max-w-2xl mx-auto",children:"Discover how our programs are transforming lives and communities across Sierra Leone through real stories of change."})]})})]})}export{q as default};
